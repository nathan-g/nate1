(function(a){function b(a){window.console&&console.log&&console.log(a)}function c(a){b("Got xdmessage: "+a.data);if(a.data.indexOf("capture:")!==0){b("Ignoring message: "+a.data);return}d(a.data.substring(8))}function d(b){var c,b,d,e,f,g,h,i,j,k;c=b.indexOf(";");if(c<0)throw new Error("Capture xdreceiver: Missing flags separator.");d=b.substring(0,c).split(","),h=b.substring(c+1),c=h.indexOf(":");if(c<0)throw new Error("Capture xdreceiver: Missing func separator.");g=h.substring(0,c),f=decodeURIComponent(h.substring(c+1)),i=function(a,b){for(var c=0;c<a.length;c++)if(a[c]==b)return c;return-1},k={refresh:function(){a.document.cookie="janrain_sso_checked=;expires="+(new Date).toGMTString()+";path=/;"},logout:function(b){k.refresh(),a.document.location.href=b}};if(i(d,"sso")>=0){j=k[g],j(f);return}try{j=window.eval(g);if(typeof j=="undefined")throw new Error("unable to eval "+g);window.setTimeout(function(){j(f)},0)}catch(l){window.console&&console.log&&console.log("xdcomm: error running function "+g)}}window.addEventListener?(b("Setting up event listener 3"),window.addEventListener("message",c,!1)):window.attachEvent?(b("Setting up event listener 1"),window.attachEvent("onmessage",c)):document.attachEvent?(b("Setting up event listener 2"),document.attachEvent("onmessage",c)):b("Failed to setup an event listener")})(this);